@startuml
title 任务状态机（Go 维护）

skinparam shadowing false
skinparam ArrowColor #444
skinparam DefaultFontName Microsoft YaHei

[*] --> pending : RunTask() created
pending --> running : worker starts / dispatch

running --> succeeded : engine returns ok
running --> failed : engine returns error\nor internal failure
pending --> canceled : CancelTask()\nbefore start
running --> canceled : CancelTask()\nkill/interrupt
running --> timed_out : timeout\nkill process

failed --> [*]
succeeded --> [*]
canceled --> [*]
timed_out --> [*]
@enduml
